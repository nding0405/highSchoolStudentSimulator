Index: src/main/ui/TimeExceedEnd.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ui;\n\nimport model.Student;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TimeExceedEnd {\n    public static final String EXAM = \"./data/resource/takeExam.png\";\n    public static final String GRADUATE = \"./data/resource/graduate.png\";\n    public static final String FACTORY = \"./data/resource/factory.png\";\n    public static final String NOT_FAMOUS = \"./data/resource/unFamousSchool.png\";\n    public static final String FAMOUS = \"./data/resource/firstRank.png\";\n    public static final ImageIcon DIALOGUE_BOX_LEFT = new ImageIcon(\"./data/resource/dialogueBoxLeft.png\");\n    public static final ImageIcon DIALOGUE_BOX_RIGHT = new ImageIcon(\"./data/resource/dialogueBoxRight.png\");\n    public static final ImageIcon PLAIN_FACE = new ImageIcon(\"./data/resource/studentPlainFace.png\");\n    public static final String FONT_TYPE = \"Courier New\";//font type of text\n    public static final int TEXT_FONT_SIZE = 20;//size of title\n    private static String END1 = \"Your child got a job at an electronics factory. \"\n            + \"Your lofty aspirations were shattered, but over time, you became accustomed to this mundane life, \"\n            + \"and it seemed not too bad after all.\";\n    private static String END2 = \"Your child gained admission to a third-tier university. \"\n            + \"While it was a hard-fought achievement to get into college, in this highly competitive\"\n            + \" and intense society, such educational background may not stand out. The future may not be easy either.\";\n    private static String END3 = \"Your child gained admission to a second-tier university. \"\n            + \"While it was a hard-fought achievement to get into college, in this highly competitive\"\n            + \" and intense society, such educational background may not stand out. The future may not be easy either.\";\n    private static String END4 = \"Your child was admitted to a first-tier university, and the entire family was happy. \"\n            + \"It seemed like a breakthrough, a sudden clearing of the clouds. However, does getting into a top-tier \"\n            + \"university truly mark the end? Human desires are boundless...\";\n    private static String END5 = \"Your child got into a first-class university, and you celebrated with a banquet, \"\n            + \"set off fireworks, and proudly praised your child to everyone you met. But does everything end there?\"\n            + \" Does life truly become smooth sailing afterward?\";\n    private static String END6 = \"Your child is talented, with the opportunity to choose between Tsinghua \"\n            + \"University and Peking University. With such a brilliant brain, one might assume their future life will\"\n            + \" be considerably easier than others. However, each environment comes with its own pressures, \"\n            + \"and perhaps their life is not as smooth sailing as others might imagine.\";\n    private JFrame myFrame;\n    private Student myStudent;\n    private String gender;\n    private JLabel background;\n    private JLayeredPane dialogueContainer;\n    private JLabel dialogueImageLabel;\n    private JLabel dialogueTextLabel;\n    private JLabel studentImageLabel;\n    private JTextField typeInBox;\n    private Integer totalScore;\n\n    public TimeExceedEnd(Student myStudent, String gender) {\n        this.myStudent = myStudent;\n        this.gender = gender;\n        setUpFrame();\n        setupDialogueBox();\n        setupBackground();\n        setUpTextBox();\n        wrapUpComponents();\n        SwingWorker<Void, Void> worker = new SwingWorker<Void, Void>() {\n            @Override\n            protected Void doInBackground() throws Exception {\n                startConversation();\n                return null;\n            }\n\n            @Override\n            protected void done() {\n                //\n            }\n        };\n        worker.execute();\n    }\n\n    private void wrapUpComponents() {\n        JLayeredPane lp = new JLayeredPane();\n        lp.setBounds(0,0,800,600);\n        lp.add(background, JLayeredPane.DEFAULT_LAYER);\n        lp.add(dialogueContainer, JLayeredPane.PALETTE_LAYER);\n        lp.add(typeInBox, JLayeredPane.MODAL_LAYER);\n        myFrame.add(lp);\n        myFrame.setVisible(true);\n    }\n\n    private void setupBackground() {\n        background = new JLabel();\n        background.setBounds(0,0,800,600);\n        background.setIcon(new ImageIcon(GRADUATE));\n    }\n\n    private List<String> getExamScore() {\n        int mandarinScore = myStudent.getKnowledge().takeExamForMandarin();\n        int mathScore = myStudent.getKnowledge().takeExamForMath();\n        int englishScore = myStudent.getKnowledge().takeExamForEnglish();\n        int combinedScore = myStudent.getKnowledge().takeExamForCombinedScienceOrArt(myStudent.getPreference());\n        List<String> scores = new ArrayList<>();\n        scores.add(\"Mandarin: \" + mandarinScore);\n        scores.add(\"Math: \" + mathScore);\n        scores.add(\"English: \" + englishScore);\n        String combinedType;\n        if (myStudent.getScienceOrArtForExam()) {\n            combinedType = \"Combined Science\";\n        } else {\n            combinedType = \"Combined Arts\";\n        }\n        scores.add(combinedType + \": \" + combinedScore);\n        totalScore = mandarinScore + mathScore + englishScore + combinedScore;\n        scores.add(\"Total score: \" + totalScore);\n        return scores;\n    }\n\n    private void startConversation() throws InterruptedException {\n        studentTalk(\"Tomorrow is the day to take college entrance exam.\");\n        parentTypeIn();\n    }\n\n    private void changeBackground(String type) {\n        if (type.equals(\"graduate\")) {\n            background.setIcon(new ImageIcon(GRADUATE));\n        } else if (type.equals(\"exam\")) {\n            background.setIcon(new ImageIcon(EXAM));\n        }\n    }\n\n    private void parentTypeIn() {\n        typeInBox.setText(\"(type in what you want to say to \" + myStudent.getName() + \")\");\n        typeInBox.setVisible(true);\n        dialogueTextLabel.setText(\"You: \");\n    }\n\n    private void setUpTextBox() {\n        typeInBox = new JTextField();\n        typeInBox.setBounds(380, 450, 200, 50);\n        addTextAreaActionListener();\n        typeInBox.setVisible(false);\n    }\n\n    @SuppressWarnings({\"checkstyle:MethodLength\", \"checkstyle:SuppressWarnings\"})\n    private void addTextAreaActionListener() {\n        typeInBox.addKeyListener(new KeyListener() {\n            @Override\n            public void keyTyped(KeyEvent e) {\n                //do nothing\n            }\n\n            @Override\n            public void keyPressed(KeyEvent e) {\n                if (e.getKeyCode() == KeyEvent.VK_ENTER) {\n                    String userInput = typeInBox.getText().trim();\n                    typeInBox.setVisible(false);\n                    try {\n                        parentTalk(userInput);\n                        studentTalk(\" “ \" + userInput + \" “ \" + \"...\" + \"Ok \" + gender + \" I got it.\");\n                    } catch (InterruptedException ex) {\n                        throw new RuntimeException(ex);\n                    }\n                    changeBackground(\"exam\");\n                    List<String> scores = getExamScore();\n                    new ShowExamWindow(scores);\n                    popUpFinalScore();\n                }\n            }\n\n            @Override\n            public void keyReleased(KeyEvent e) {\n                //do nothing\n            }\n        });\n    }\n\n    private void popUpFinalScore() {\n        JOptionPane.showMessageDialog(null, myStudent.getName() + \" got \"\n                        + totalScore + \" for final exam.\", \"FINIAL SCORE\", JOptionPane.PLAIN_MESSAGE);\n        int ending = myStudent.endChoice(totalScore);\n        showEnding(ending);\n    }\n\n    @SuppressWarnings({\"checkstyle:MethodLength\", \"checkstyle:SuppressWarnings\"})\n    private void showEnding(int ending) {\n        if (ending == 0) {\n            background.setIcon(new ImageIcon(FACTORY));\n            studentImageLabel.setVisible(false);\n            dialogueTextLabel.setText(\"<html><div style='text-align: center;'>\"\n                    + END1.replace(\"\\n\", \"<br>\") + \"</div></html>\");\n        } else if (ending == 1) {\n            background.setIcon(new ImageIcon(NOT_FAMOUS));\n            studentImageLabel.setVisible(false);\n            dialogueTextLabel.setText(\"<html><div style='text-align: center;'>\"\n                    + END2.replace(\"\\n\", \"<br>\") + \"</div></html>\");\n        } else if (ending == 2) {\n            background.setIcon(new ImageIcon(NOT_FAMOUS));\n            studentImageLabel.setVisible(false);\n            dialogueTextLabel.setText(\"<html><div style='text-align: center;'>\"\n                    + END3.replace(\"\\n\", \"<br>\") + \"</div></html>\");\n        } else if (ending == 3) {\n            background.setIcon(new ImageIcon(NOT_FAMOUS));\n            studentImageLabel.setVisible(false);\n            dialogueTextLabel.setText(\"<html><div style='text-align: center;'>\"\n                    + END4.replace(\"\\n\", \"<br>\") + \"</div></html>\");\n        } else if (ending == 4 || ending == 5) {\n            background.setIcon(new ImageIcon(NOT_FAMOUS));\n            studentImageLabel.setVisible(false);\n            dialogueTextLabel.setText(\"<html><div style='text-align: center;'>\"\n                    + END5.replace(\"\\n\", \"<br>\") + \"</div></html>\");\n        } else if (ending == 6 || ending == 7) {\n            background.setIcon(new ImageIcon(FAMOUS));\n            studentImageLabel.setVisible(false);\n            dialogueTextLabel.setText(\"<html><div style='text-align: center;'>\"\n                    + END6.replace(\"\\n\", \"<br>\") + \"</div></html>\");\n        }\n    }\n\n    private void setUpFrame() {\n        myFrame = new JFrame();\n        myFrame.getContentPane().setBackground(Color.BLACK);\n        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        myFrame.setSize(800,600);\n        myFrame.setResizable(false);\n        myFrame.setVisible(true);\n    }\n\n    private void setupDialogueBox() {\n        dialogueContainer = new JLayeredPane();\n        dialogueContainer.setBounds(0, 0, 800, 600);\n        dialogueContainer.setBackground(Color.BLACK);\n\n        studentImageLabel = new JLabel();\n        studentImageLabel.setIcon(PLAIN_FACE);\n        studentImageLabel.setOpaque(false);\n        studentImageLabel.setBackground(Color.BLACK);\n        studentImageLabel.setBounds(0, 55, 300, 330);\n\n        dialogueImageLabel = new JLabel();\n        dialogueImageLabel.setIcon(DIALOGUE_BOX_LEFT);\n        dialogueImageLabel.setOpaque(false);\n        dialogueImageLabel.setBackground(Color.BLACK);\n        dialogueImageLabel.setBounds(0, 350, 800, 250);\n\n        dialogueTextLabel = new JLabel();\n        dialogueTextLabel.setFont(new Font(FONT_TYPE, Font.PLAIN, TEXT_FONT_SIZE));\n        dialogueTextLabel.setOpaque(false);\n        dialogueTextLabel.setBounds(0, 350, 700, 250);\n        dialogueTextLabel.setHorizontalAlignment(JLabel.CENTER);\n        dialogueTextLabel.setForeground(Color.WHITE);\n\n        dialogueContainer.add(studentImageLabel, JLayeredPane.DEFAULT_LAYER);\n        dialogueContainer.add(dialogueImageLabel, JLayeredPane.PALETTE_LAYER);\n        dialogueContainer.add(dialogueTextLabel, JLayeredPane.MODAL_LAYER);\n    }\n\n    private void parentTalk(String text) throws InterruptedException {\n        dialogueImageLabel.setIcon(DIALOGUE_BOX_RIGHT);\n        dialogueTextLabel.setText(\"<html><div style='text-align: center;'>\"\n                + (\"You: \" + text).replace(\"\\n\", \"<br>\") + \"</div></html>\");\n        simulateDelay(3);\n    }\n\n    private void studentTalk(String text) throws InterruptedException {\n        dialogueImageLabel.setIcon(DIALOGUE_BOX_LEFT);\n        dialogueTextLabel.setText(\"<html><div style='text-align: center;'>\"\n                + (myStudent.getName() + \": \" + text).replace(\"\\n\", \"<br>\") + \"</div></html>\");\n        simulateDelay(3);\n    }\n\n    private void simulateDelay(int seconds) throws InterruptedException {\n        Thread.sleep(seconds * 1000);\n    }\n\n//    public static void main(String[] args) {\n//        new TimeExceedEnd(new Student(\"test\"), \"mom\");\n//    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/ui/TimeExceedEnd.java b/src/main/ui/TimeExceedEnd.java
--- a/src/main/ui/TimeExceedEnd.java	(revision fcd8c7b0d43920755eefacddfed9c17eb59422dc)
+++ b/src/main/ui/TimeExceedEnd.java	(date 1700345309137)
@@ -151,7 +151,7 @@
                     typeInBox.setVisible(false);
                     try {
                         parentTalk(userInput);
-                        studentTalk(" “ " + userInput + " “ " + "..." + "Ok " + gender + " I got it.");
+                        studentTalk("' " + userInput + " ' " + "..." + "Ok " + gender + " I got it.");
                     } catch (InterruptedException ex) {
                         throw new RuntimeException(ex);
                     }
